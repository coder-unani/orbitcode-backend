{% extends 'layouts/main.html' %}
{% load static %}

{% block title %}넷플릭스{% endblock title %}

{% block content %}

<div class="flex flex-col gap-5 min-h-[calc(100vh-188px)] sm:min-h-[calc(100vh-204px)]">
    <h2 class="text-base font-semibold mb-4">실행 결과</h2>

    {% if summary %}
        <div class="rounded p-3 bg-primary/10 text-primary border border-primary/60">
            총 {{summary.total}}개의 데이터 중 {{summary.success}}개의 데이터가 성공적으로 수집되었습니다.
        </div>
    {% endif %}

    {% for message in messages %}
        {% if message.result == 'success' %}
            <div class="rounded p-3 bg-success/10 text-success border border-success/60">{{message.message}}</div>
        {% else %}
            <div class="rounded p-3 bg-danger/10 text-danger border border-danger/60">{{message.message}}</div>
        {% endif %}
    {% endfor %}

    <div class="flex w-full justify-center items-center gap-2.5 mt-2.5">
        <a href="{% url 'builder:collect-netflix' %}">
            <button type="button" class="btn bg-dark dark:bg-white dark:text-dark dark:border-white border border-dark rounded-full text-white transition-all duration-300 hover:bg-dark/[0.85] hover:border-dark/[0.85]">다시 수집하기</button>
        </a>
        <a href="#">
            <button type="button" class="btn bg-dark dark:bg-white dark:text-dark dark:border-white border border-dark rounded-full text-white transition-all duration-300 hover:bg-dark/[0.85] hover:border-dark/[0.85]">목록으로 이동</button>
        </a>
    </div>
</div>

{% endblock content %}